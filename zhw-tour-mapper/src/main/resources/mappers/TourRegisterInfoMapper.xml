<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhw.mapper.TourRegisterInfoMapper">
	<resultMap type="com.zhw.domain.TourRegisterInfo" id="BaseMap">
		<id property="pkId" column="PK_ID" />
		<result property="bmName" column="BM_NAME" />
		<result property="bmCardCode" column="BM_CARD_CODE" />
		<result property="bmSex" column="BM_SEX" />
		<result property="bmHjAddress" column="BM_HJ_ADDRESS" />
		<result property="bmCarCode" column="BM_CAR_CODE" />
		<result property="bmPhone" column="BM_PHONE" />
		<result property="bmPrice" column="BM_PRICE" />
		<result property="bmComment" column="BM_COMMENT" />
		<result property="hyCode" column="HY_CODE" />
	</resultMap>

    <sql id="AddColumn">
		BM_NAME,BM_CARD_CODE,BM_SEX,BM_HJ_ADDRESS,BM_CAR_CODE,BM_PHONE,BM_PRICE,BM_COMMENT,HY_CODE
	</sql>
	<sql id="BaseColumn">
		PK_ID,<include refid="AddColumn"/>
	</sql>
	<select id="queryTourInfo" resultMap="BaseMap">
			SELECT <include refid="BaseColumn"/> FROM ZHW_TOUR_REG 
			WHERE 
			<if test="HyCode !=null and hyCode !=''">
				HY_CODE=#{hyCode}
			</if>
			<!-- WHERE HY_CODE = #{hyCode} --> 
	</select>
	
		<select id="queryTourCount" resultType="Integer">
			SELECT COUNT(1) from FROM ZHW_TOUR_REG 
			WHERE 
			<if test="HyCode !=null and hyCode !=''">
				HY_CODE=#{hyCode}
			</if>
			<!-- WHERE HY_CODE = #{hyCode} --> 
	</select>
</mapper>
